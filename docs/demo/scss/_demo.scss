@use '../../../index' as grid;

$demo-sections: (
    (id: 'ant', label: '1/12', ratio: 1 / 12, color: rgba(#000, 0.04)),
    (id: 'snake', label: '1/8', ratio: 1 / 8, color: rgba(#000, 0.06)),
    (id: 'gazelle', label: '1/6', ratio: 1 / 6, color: rgba(#000, 0.08)),
    (id: 'lion', label: '1/4', ratio: 1 / 4, color: rgba(#000, 0.10)),
    (id: 'girafe', label: '1/3', ratio: 1 / 3, color: rgba(#000, 0.12)),
    (id: 'rhino', label: '1/2', ratio: 1 / 2, color: rgba(#000, 0.14)),
    (id: 'elephant', label: '1/1', ratio: 1 / 1, color: rgba(#000, 0.16)),
);


@mixin demo--add-label($ratio) {
    > .demo__block:not(.demo__block--ignore)::after {
        content: '#{$ratio}';
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
    }
}


.demo {
    ~ .demo {
        margin-top: 5.6rem;
    }

    .demo__content {
        padding-top: 1.6rem;
        padding-bottom: 1.6rem;
        background-color: #f1f1f1;
    }

    .demo__block {
        position: relative;
        width: 100%;
        height: 30px;
        display: flex;
        flex-flow: row nowrap;
        justify-content: center;
        align-items: center;
        overflow: hidden;
        background-color: rgba(#000, 0.02);

        &.demo__block--basic {
            width: 30px;
        }
    }

    .demo__col {
        overflow: hidden;

        @each $value in $demo-sections {
            &.demo__col--#{map-get($value, 'id')} {
                @include demo--add-label(map-get($value, 'label'));

                > .demo__block {
                    background-color: map-get($value, 'color');
                }
            }
        }

        &.demo__col-push {
            @include grid.push((ratio: 3 / 12));

            > .demo__block.demo__block {
                &::after {
                    content: 'push 3/12';
                }
            }
        }

        &.demo__col-pull {
            margin-left: auto;

            @include grid.pull((ratio: 3 / 12));

            > .demo__block.demo__block {
                &::after {
                    content: 'pull 3/12';
                }
            }
        }
    }
}
